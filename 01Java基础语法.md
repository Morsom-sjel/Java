# JAVA基本语法

#### 标识符、变量

关键字：就是在java语言编程的时候，在关键的的地方使用的单词，体现关键的地方的含义，这些单词都是特有的事先定义好的

保留字：可能在以后被用来作为关键字的单词，java已将把这些单词预定了，这些单词尽量不要在编程中去随意使用

标识符 abc_1$
        可以是Test1，不能是1Test
		比如类名不能直接使用class，可以是class1
		命名规范，是一套约定俗成的规则
		

##### 变量的概念和定义

 变量的定义：数据类型 变量名 = 变量的值，例如: int i = 1;
 注意：声明变量过程中的这个=，不是数学意义上的=，在java编程中代表赋值

变量的类型：声明的变量的数据类型就是变量的类型



#### 数据类型

（1）基本数据类型【八种】：数值型{整数类型（byte,short,int,long）、浮点类型（float,double）}、字符型（char）、布尔型（boolean）
（2）引用数据类型【除了八种基本数据类型】：类（chass）、接口（interface）、数组（[]）
byte的占用存储空间是1字节，范围-128到127之间，声明byte类型变量的时候赋值不能超过这个范围
short，2字节，15次方
int，4字节，31次方
long，8字节，63次方       long l = 31，这个long类型变量赋值时要在值的后面跟上一个字母l【小写L】

```
 1字节=8bit
 bit  0100110，就是7bit
```

单精度float，占用存储空间4字节，128次方，精度为7位有效数字
双精度double，占用8字节，1024次方，精度为16位有效数字

```java
 float f = 1.22f, float类型变量赋值时值后面跟上字母f
```



字符char：用英文的单引号括起来的单个字母、数字、符号

```java
比如，
	 char c1 = 'a'
	 char c2 = '1'
	 char c3 = '%'
	 char c4 = '\n'  //打印换行符
	 char c5 = '\''  //打印单引号，前面加一斜杠
```


boolean布尔类型  boolean b1 = true   布尔类型只有true和false，无null

字符串？就是由0到多个字母数字符号共同组成的一个串，这个串要用英文的双引号括起来

```java
String str = "hello world!";
	 System.out.println(str);
```

引用类型，都可以用null作为值，也就是说可以在初始化的时候赋值为null
String是引用类型，也就是说可以使用null作为值

```java
int i0 = 1
int i1 = 1
//以上这种会在内存中存储2个1的值
```

```java
String s0 = "hello"
String s1 = "hello"
//这种的，不会在内存中存在两个"hello"，只存在一个"hello"
```

假设"hello"的内存地址xxxxx，声明s0变量时给s0赋值"hello"实际上让s0变量引用"hello"的内存地址xxxxx；当我们再次声明变量s1也赋值"hello"的时候实际上也是直接把已经存在的"hello"的内存地址给s1引用

容量小的类型（可以）自动转换为容量大的数据类型    不能from大to小（编译期异常，只有在javac的时候可以发现）

```java
 int i = 1;
 short s = 2;
 byte b = 3;
 int res = i + s +b;
 //问题，最后得到的数字6是一个什么类型的？在计算过程中，i、s、b这三个变量会做数据类型的转换么？
 //在计算过程中，整数类型是int的范围最大，所以s和b都分别转换成int类型，然后进行加的运算，最终的结果是int的数据
```

char类型的数据在与数字运算的时候，它是转换为相对应的ASCII码的值，然后再进行计算

##### 结论

有多种类型的数据混合运算时，系统首先自动将所有数据转换成容量最大的那种数据类型，然后进行计算。
        数字类型从小到大分别是byte、short、int、long、float、double

byte，short，char之间不会相互转换，他们三者计算时首先转换为int类型

当把任何基本类型的值和字符串值进行连接运算时（+），基本类型的值自动转化为字符串类型

数字类型的运算中，多个相同类型变量参与的运算，变量要先转换为相对应的数据类型的默认类型（比如两个byte类型的变量相加，会先把两个byte类型的变量转换成默认的int类型后再计算，得到的结果是int类型）。

这种情况适用于变量的数据类型的容量比默认类型的容量小。



注意：当有一系列的+的运算的时候，如果某个部分其中含有字符串，那么这个字符串前面挨着的+开始一直往后就是要按照字符串拼接去看



强制类型转换

```java
 byte b = 9；
 int i = b；
 //属于正常的隐式转换数据类型，自动的
 
 int k = 7；
 byte b0 = （byte）k；  
 //这个就是强制转换数据类型，转换的数据类型要用英文的小括号括起来
```

字符串不能直接转换为基本类型，但通过基本类型对应的包装类则可以实现把字符串转换成基本类型

```java
如：
String a = "43";int i = Integer.parselnt(a);
```

boolean类型不可以转换为其他的数据类型



#### 运算符

用以表示数据的运算、赋值和比较等



##### 算术运算符

+正号  

-负号

+加

-减

*乘

/除

%取模（取余数）    7%5         结果等于2

++i自增（前），先运算后取值      a=2;b=++a;                a=3;b=3

i++自增（后），先取值后运算      a=2;b=a++;                  a=3;b=2

--i自减（前），先取值后运算      a=2;b=--a;                  a=1;b=1

i--自减（后），先取值后运算      a=2;b=a--;                  a=1;b=2

+字符串链接

```java
int i0 = -3;
System.out.println(-i0);
System.out.println(i+2);

System.out.println(7.0/2);   //3.5
System.out.println(7/2);    //3
//当整数除以整数的时候，会把结果的小数部分舍弃，只保留整数部分
```

如果对负数取模，可以把模数符号忽略不计。如：5%-2=1；

但是，被模数是负数则不可忽略。-5%2=-1；

此外，取模运算的结果不一定是整数



##### 赋值运算符

=

扩展赋值运算符：+=，-=，*=，/=，%=

字符串的+=是字符串的拼接

```java
如：
String str = "he";
str += "llo";
//结果为hello
```

在使用扩展赋值运算符时，变量在参与运算时会把结果强制转换为当前变量的类型

```java
short s = 2;
s = (short)(s + 3);
s += 3;
//第二行强制转换类型才能成功
```

思考：

```java
int i = 1;
i *= 0.1;
System.out.println(i);//int整形，输出为0
i++;
System.out.println(i);//输出为1
```



##### 比较运算符

| 运算符 |   运算   | 范例 | 结果  |
| :----: | :------: | :--: | :---: |
|   ==   |  相等于  | 4==3 | false |
|   !=   |  不等于  | 4!=3 | true  |
|   <    |   小于   | 4<3  | false |
|   >    |   大于   | 4>3  | true  |
|   <=   | 小于等于 | 4<=3 | false |
|   >=   | 大于等于 | 4>=3 | true  |

比较运算符的结果都是boolean型，也就是要么是true，要么是false

###### 注意：比较运算符“==”不能误写成“=”。



##### 逻辑运算符

并且、或者、异或、非

&——逻辑与

|——逻辑或

!——逻辑非

&&——短路与

||——短路或

^——逻辑异或

```java
public class Test1{
    public static void main(String[] args){
        System.out.println(4 == 4);//true
        System.out.println(4 == 4 & 1 == 1);//true
        System.out.println(4 == 4 || 1 != 1);//true
    }
}
```

逻辑运算符用于连接布尔型表达式，在Java中不可以写成3<x<6，应该写成x>3&x<6。



"&"和"&&"的区别（"|"和"||"同理，但是是）：

+ 单&时，左边无论真假，右边都进行运算；
+ 双&时，如果左边为真，右边参与运算，如果左边为假，则右边不参与运算
+ "|"和"||"区别同理，但是||表示：当左边为真，右边**不参与**运算



异或（^）与或（|）的不同之处是：当左右都为true时，结果为false。

​       理解：异或，追求的是“异”！

|   a   |   b   |  a&b  | a\|b  |  !a   |  a^b  | a&&b  | a\|\|b |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
| true  | true  | true  | true  | false | false | true  |  true  |
| true  | false | false | true  | false | true  | false |  true  |
| false | true  | false | true  | true  | true  | false |  true  |
| false | false | false | false | true  | false | false | false  |

练习：

```java
//1
int x = 1;
int y = 1;

if(x++==2 & ++y==2){
    //x++==2,x先取值后计算，1 == 2，结果是false，再计算++之后x的值是2
    //++y==2，y是先计算后取值，先计算++得到y的值为2，在逻辑判断2 == 2，结果是true
    //false & true，得到的结论是false
    x = 7;
}
System.out.println("x="+x+",y="+y);//2 2

//2
int x = 1;
int y = 1;

if(x++==2 && ++y==2){
    //x++==2，x++==2,x先取值后计算，1 == 2，结果是false，再计算++之后x的值是2
    //&&，前面为false，后面不再运算，所以y仍为1
    x = 7;
}
System.out.println("x="+x+",y="+y);//2 1

//3
int x = 1;
int y = 1;

if(x++==1 | ++y==1){
    //x++==1，x先取值后计算，1 == 1，结果是true，再计算++之后x的值是2
    //++y==1，y是先计算后取值，先计算++得到y的值为2，在逻辑判断2 == 1，结果是false
    //true | false，得到的结论是true，进行x = 7运算，所以x=7，y=2
    x = 7;
}
System.out.println("x="+x+",y="+y);//7 2

//4
int x = 1;
int y = 1;

if(x++==1 || ++y==1){
    x = 7;
}
System.out.println("x="+x+",y="+y);//7 1
```



##### 位运算符（比较少用）         注意：无<<<

位运算是直接对二进制进行运算

| 运算符 |    运算    |                 范例                 |
| :----: | :--------: | :----------------------------------: |
|   <<   |    左移    | 3<<2=12-->3x2x2=12     (m<<n--m*2^n) |
|   >>   |    右移    |  3>>1=1-->3/2=1     (m>>n--m*2^-n)   |
|  >>>   | 无符号右移 |  3>>>1=1-->3/2=1，正数的>>>与>>一致  |
|   &    |   与运算   |                6&3=2                 |
|   \|   |   或运算   |                6\|3=7                |
|   ^    |  异或运算  |                6^3=5                 |
|   ~    |    反码    |                ~6=-7                 |

有符号的右移是看右移之后的首位是0还是1，是0前面空位补0，是1就补1；无符号的右移，移动之后不管首位是0还是1，空位都补0

&和|的位运算：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200215150204713.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzY5MjUwNA==,size_16,color_FFFFFF,t_70)

异或位运算同理

###### 总结：

|      | 总结                                                         |
| :--: | ------------------------------------------------------------ |
|  <<  | 空位补0，被移除的高位丢弃，空位补0。                         |
|  >>  | 被移位的二进制最高位是0，右移后，空缺位补0；最高位是1，空缺位补1。 |
| >>>  | 被移位二进制最高位无论是0或者是1，空缺位都用0补              |
|  &   | 只有1&1时结果是1，否则是0；                                  |
|  \|  | 只有0\|0时结果是0，否则是1；                                 |
|  ^   | 相同结果是0；不同是1                                         |
|  ~   | 正数取反，各二进制码按补码各位取反；负数取反，各二进制码按补码各位取反 |



##### 三元运算符（三目运算符）

格式：(条件表达式)?表达式1：表达式2；

​           为true，运算后的结果是表达式1；

​           为false，运算后的结果是表达式2

```java
int i = 1;
int k = i > 0 ? 1 : 0;
System.out.println(k);//输出1
```

练习：

```java
//获取两个数中的较大数
int m = 1;
int n = 2;
System.out.println(m > n ? m : n);
//获取三个数中的较大数
int k = 0;
//（条件表达式）？ 表达式1：表达式2
System.out.println(m > n ? (m > k ? m : k) : (n > k ? n : k));
//表达式1(m > k ? m : k)
//表达式2(n > k ? n : k)
```



##### 运算符的优先级

| 优先级 |                            运算符                            |    结合性    |
| :----: | :----------------------------------------------------------: | :----------: |
|   1    |                           ()    []                           |   从左向右   |
|   2    |             !    +(正)    -(负)    ~    ++    --             | **从右向左** |
|   3    |                         *    /    %                          |   从左向右   |
|   4    |                        +(加)    -(减)                        |   从左向右   |
|   5    |                      <<     >>     >>>                       |   从左向右   |
|   6    |               <    <=    >    >=    instanceof               |   从左向右   |
|   7    |                           ==    !=                           |   从左向右   |
|   8    |                          &(按位与)                           |   从左向右   |
|   9    |                              ^                               |   从左向右   |
|   10   |                              \|                              |   从左向右   |
|   11   |                              &&                              |   从左向右   |
|   12   |                             \|\|                             |   从左向右   |
|   13   |                              ?                               | **从右向左** |
|   14   | =    +=    -=    *=    /=    &=    \|=    ^=    ~=    <<=    >>=    >>>= | **从右向左** |

注：只有单目运算符、三元运算符、赋值运算符是从右向左运算





